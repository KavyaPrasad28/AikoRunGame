{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kavya\\\\source\\\\repos\\\\AikoGame\\\\aiko-runner\\\\src\\\\components\\\\AikoRunner.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Howl } from 'howler';\nimport './AikoRunner.css';\n\n// Fix sound path (no leading slash if in public/sounds)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst jumpSound = new Howl({\n  src: ['sounds/jump.mp3']\n});\nconst AikoRunner = ({\n  setY\n}) => {\n  _s();\n  const [frame, setFrame] = useState(0);\n  const [yPos, setYPos] = useState(20); // bottom position in px\n  const [velocity, setVelocity] = useState(0);\n  const [isJumping, setIsJumping] = useState(false);\n  const [left, setLeft] = useState(50); // horizontal position\n\n  // Sprite sheet details\n  const totalFrames = 10; // total frames in the sheet\n  const columns = 5; // frames per row\n  const frameWidth = 280; // px\n  const frameHeight = 385; // px\n\n  // Jump physics\n  const gravity = 1.2; // pull down speed\n  const jumpStrength = 25; // initial jump velocity\n\n  // Animate running frames and horizontal movement\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setFrame(prev => (prev + 1) % totalFrames);\n      setLeft(prev => {\n        // Move right, reset to left if off screen\n        if (prev + frameWidth + 10 > window.innerWidth) {\n          return 50;\n        }\n        return prev + 10;\n      });\n    }, 80); // adjust speed\n    return () => clearInterval(interval);\n  }, []);\n\n  // Handle jump physics\n  useEffect(() => {\n    let animation;\n    const loop = () => {\n      setYPos(prevY => {\n        let newY = prevY + velocity;\n        if (newY <= 20) {\n          // landed\n          newY = 20;\n          setIsJumping(false);\n          setVelocity(0);\n        } else {\n          setVelocity(v => v - gravity);\n        }\n        if (setY) setY(newY);\n        return newY;\n      });\n      animation = requestAnimationFrame(loop);\n    };\n    animation = requestAnimationFrame(loop);\n    return () => cancelAnimationFrame(animation);\n  }, [velocity]);\n\n  // Jump trigger\n  const handleJump = () => {\n    if (!isJumping) {\n      setIsJumping(true);\n      setVelocity(jumpStrength);\n      jumpSound.play();\n    }\n  };\n\n  // Keyboard jump\n  useEffect(() => {\n    const onKeyDown = e => {\n      if (e.code === 'Space' || e.code === 'ArrowUp') {\n        handleJump();\n      }\n    };\n    window.addEventListener('keydown', onKeyDown);\n    return () => window.removeEventListener('keydown', onKeyDown);\n  }, [isJumping]); // add isJumping as dependency\n\n  // Calculate sprite sheet position\n  const col = frame % columns;\n  const row = Math.floor(frame / columns);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"aiko-runner\",\n    style: {\n      backgroundPosition: `-${col * frameWidth}px -${row * frameHeight}px`,\n      bottom: `${yPos}px`,\n      left: `${left}px`\n    },\n    onClick: handleJump // click to jump\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(AikoRunner, \"Kw2RU3SNadv5C9pjTlBSJuf/vUY=\");\n_c = AikoRunner;\nexport default AikoRunner;\nvar _c;\n$RefreshReg$(_c, \"AikoRunner\");","map":{"version":3,"names":["React","useEffect","useState","Howl","jsxDEV","_jsxDEV","jumpSound","src","AikoRunner","setY","_s","frame","setFrame","yPos","setYPos","velocity","setVelocity","isJumping","setIsJumping","left","setLeft","totalFrames","columns","frameWidth","frameHeight","gravity","jumpStrength","interval","setInterval","prev","window","innerWidth","clearInterval","animation","loop","prevY","newY","v","requestAnimationFrame","cancelAnimationFrame","handleJump","play","onKeyDown","e","code","addEventListener","removeEventListener","col","row","Math","floor","className","style","backgroundPosition","bottom","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/kavya/source/repos/AikoGame/aiko-runner/src/components/AikoRunner.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Howl } from 'howler';\r\nimport './AikoRunner.css';\r\n\r\n// Fix sound path (no leading slash if in public/sounds)\r\nconst jumpSound = new Howl({ src: ['sounds/jump.mp3'] });\r\n\r\nconst AikoRunner = ({ setY }) => {\r\n  const [frame, setFrame] = useState(0);\r\n  const [yPos, setYPos] = useState(20); // bottom position in px\r\n  const [velocity, setVelocity] = useState(0);\r\n  const [isJumping, setIsJumping] = useState(false);\r\n  const [left, setLeft] = useState(50); // horizontal position\r\n\r\n  // Sprite sheet details\r\n  const totalFrames = 10;   // total frames in the sheet\r\n  const columns = 5;        // frames per row\r\n  const frameWidth = 280;   // px\r\n  const frameHeight = 385;  // px\r\n\r\n  // Jump physics\r\n  const gravity = 1.2;      // pull down speed\r\n  const jumpStrength = 25;  // initial jump velocity\r\n\r\n  // Animate running frames and horizontal movement\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setFrame(prev => (prev + 1) % totalFrames);\r\n      setLeft(prev => {\r\n        // Move right, reset to left if off screen\r\n        if (prev + frameWidth + 10 > window.innerWidth) {\r\n          return 50;\r\n        }\r\n        return prev + 10;\r\n      });\r\n    }, 80); // adjust speed\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  // Handle jump physics\r\n  useEffect(() => {\r\n    let animation;\r\n    const loop = () => {\r\n      setYPos(prevY => {\r\n        let newY = prevY + velocity;\r\n        if (newY <= 20) { // landed\r\n          newY = 20;\r\n          setIsJumping(false);\r\n          setVelocity(0);\r\n        } else {\r\n          setVelocity(v => v - gravity);\r\n        }\r\n        if (setY) setY(newY);\r\n        return newY;\r\n      });\r\n      animation = requestAnimationFrame(loop);\r\n    };\r\n    animation = requestAnimationFrame(loop);\r\n    return () => cancelAnimationFrame(animation);\r\n  }, [velocity]);\r\n\r\n  // Jump trigger\r\n  const handleJump = () => {\r\n    if (!isJumping) {\r\n      setIsJumping(true);\r\n      setVelocity(jumpStrength);\r\n      jumpSound.play();\r\n    }\r\n  };\r\n\r\n  // Keyboard jump\r\n  useEffect(() => {\r\n    const onKeyDown = (e) => {\r\n      if (e.code === 'Space' || e.code === 'ArrowUp') {\r\n        handleJump();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', onKeyDown);\r\n    return () => window.removeEventListener('keydown', onKeyDown);\r\n  }, [isJumping]); // add isJumping as dependency\r\n\r\n  // Calculate sprite sheet position\r\n  const col = frame % columns;\r\n  const row = Math.floor(frame / columns);\r\n\r\n  return (\r\n    <div\r\n      className=\"aiko-runner\"\r\n      style={{\r\n        backgroundPosition: `-${col * frameWidth}px -${row * frameHeight}px`,\r\n        bottom: `${yPos}px`,\r\n        left: `${left}px`\r\n      }}\r\n      onClick={handleJump} // click to jump\r\n    />\r\n  );\r\n};\r\n\r\nexport default AikoRunner;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,IAAI,QAAQ,QAAQ;AAC7B,OAAO,kBAAkB;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,SAAS,GAAG,IAAIH,IAAI,CAAC;EAAEI,GAAG,EAAE,CAAC,iBAAiB;AAAE,CAAC,CAAC;AAExD,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EAC/B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACW,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACtC,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACiB,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;;EAEtC;EACA,MAAMmB,WAAW,GAAG,EAAE,CAAC,CAAG;EAC1B,MAAMC,OAAO,GAAG,CAAC,CAAC,CAAQ;EAC1B,MAAMC,UAAU,GAAG,GAAG,CAAC,CAAG;EAC1B,MAAMC,WAAW,GAAG,GAAG,CAAC,CAAE;;EAE1B;EACA,MAAMC,OAAO,GAAG,GAAG,CAAC,CAAM;EAC1B,MAAMC,YAAY,GAAG,EAAE,CAAC,CAAE;;EAE1B;EACAzB,SAAS,CAAC,MAAM;IACd,MAAM0B,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjChB,QAAQ,CAACiB,IAAI,IAAI,CAACA,IAAI,GAAG,CAAC,IAAIR,WAAW,CAAC;MAC1CD,OAAO,CAACS,IAAI,IAAI;QACd;QACA,IAAIA,IAAI,GAAGN,UAAU,GAAG,EAAE,GAAGO,MAAM,CAACC,UAAU,EAAE;UAC9C,OAAO,EAAE;QACX;QACA,OAAOF,IAAI,GAAG,EAAE;MAClB,CAAC,CAAC;IACJ,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;IACR,OAAO,MAAMG,aAAa,CAACL,QAAQ,CAAC;EACtC,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA1B,SAAS,CAAC,MAAM;IACd,IAAIgC,SAAS;IACb,MAAMC,IAAI,GAAGA,CAAA,KAAM;MACjBpB,OAAO,CAACqB,KAAK,IAAI;QACf,IAAIC,IAAI,GAAGD,KAAK,GAAGpB,QAAQ;QAC3B,IAAIqB,IAAI,IAAI,EAAE,EAAE;UAAE;UAChBA,IAAI,GAAG,EAAE;UACTlB,YAAY,CAAC,KAAK,CAAC;UACnBF,WAAW,CAAC,CAAC,CAAC;QAChB,CAAC,MAAM;UACLA,WAAW,CAACqB,CAAC,IAAIA,CAAC,GAAGZ,OAAO,CAAC;QAC/B;QACA,IAAIhB,IAAI,EAAEA,IAAI,CAAC2B,IAAI,CAAC;QACpB,OAAOA,IAAI;MACb,CAAC,CAAC;MACFH,SAAS,GAAGK,qBAAqB,CAACJ,IAAI,CAAC;IACzC,CAAC;IACDD,SAAS,GAAGK,qBAAqB,CAACJ,IAAI,CAAC;IACvC,OAAO,MAAMK,oBAAoB,CAACN,SAAS,CAAC;EAC9C,CAAC,EAAE,CAAClB,QAAQ,CAAC,CAAC;;EAEd;EACA,MAAMyB,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI,CAACvB,SAAS,EAAE;MACdC,YAAY,CAAC,IAAI,CAAC;MAClBF,WAAW,CAACU,YAAY,CAAC;MACzBpB,SAAS,CAACmC,IAAI,CAAC,CAAC;IAClB;EACF,CAAC;;EAED;EACAxC,SAAS,CAAC,MAAM;IACd,MAAMyC,SAAS,GAAIC,CAAC,IAAK;MACvB,IAAIA,CAAC,CAACC,IAAI,KAAK,OAAO,IAAID,CAAC,CAACC,IAAI,KAAK,SAAS,EAAE;QAC9CJ,UAAU,CAAC,CAAC;MACd;IACF,CAAC;IACDV,MAAM,CAACe,gBAAgB,CAAC,SAAS,EAAEH,SAAS,CAAC;IAC7C,OAAO,MAAMZ,MAAM,CAACgB,mBAAmB,CAAC,SAAS,EAAEJ,SAAS,CAAC;EAC/D,CAAC,EAAE,CAACzB,SAAS,CAAC,CAAC,CAAC,CAAC;;EAEjB;EACA,MAAM8B,GAAG,GAAGpC,KAAK,GAAGW,OAAO;EAC3B,MAAM0B,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACvC,KAAK,GAAGW,OAAO,CAAC;EAEvC,oBACEjB,OAAA;IACE8C,SAAS,EAAC,aAAa;IACvBC,KAAK,EAAE;MACLC,kBAAkB,EAAE,IAAIN,GAAG,GAAGxB,UAAU,OAAOyB,GAAG,GAAGxB,WAAW,IAAI;MACpE8B,MAAM,EAAE,GAAGzC,IAAI,IAAI;MACnBM,IAAI,EAAE,GAAGA,IAAI;IACf,CAAE;IACFoC,OAAO,EAAEf,UAAW,CAAC;EAAA;IAAAgB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACtB,CAAC;AAEN,CAAC;AAACjD,EAAA,CAzFIF,UAAU;AAAAoD,EAAA,GAAVpD,UAAU;AA2FhB,eAAeA,UAAU;AAAC,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}